development:
  # Configure available database sessions. (required)
  sessions:
    # Defines the default session. (required)
    default:
      # Defines the name of the default database that Mongoid can connect to.
      # (required).
      database: meerkat_search_development
      # Provides the hosts the default session can connect to. Must be an array
      # of host:port pairs. (required)
      hosts:
        - localhost:27017
      options:
integration:
  sessions:
    default:
      database: integration
      username: xena2014
      password: password2014
      hosts:
        - c996.candidate.20.mongolayer.com:10996
      options:
        # In the test environment we lower the retries and retry interval to
        # low amounts for fast failures.
        pool_size: 50
        pool_timeout: 10
        retry_interval: 1
        timeout: 15
        max_retries: 5
        refresh_interval: 10
    replica_set:
      # This configuration is a 3 node replica set.
      hosts:
        - c870.candidate.16.mongolayer.com:10870
      database: integration
      # We can set session specific options, like reads executing
      # on secondary nodes, and defaulting the session to safe mode.
      options:
        consistency: :eventual
        safe: true
production:
  sessions:
    default:
      database: integration
      username: xena2014
      password: password2014
      hosts:
        - c996.candidate.20.mongolayer.com:10996
        - c870.candidate.16.mongolayer.com:10870
      options:
        # In the test environment we lower the retries and retry interval to
        # low amounts for fast failures.
        pool_size: 999
        pool_timeout: 10
        retry_interval: 1
        timeout: 15
        max_retries: 5
        refresh_interval: 10

test:
  sessions:
    default:
      database: meerkat_search_test
      hosts:
        - localhost:27017
      options:
        read: primary
        # In the test environment we lower the retries and retry interval to
        # low amounts for fast failures.
        max_retries: 1
        retry_interval: 0
